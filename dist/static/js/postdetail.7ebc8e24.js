(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["postdetail"],{"1ba2":function(t,e,a){},"246d":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Content",{},[a("header",[a("div",{staticClass:"display-header"},[a("div",{staticClass:"post-title"},[t._v(" "+t._s(t.postdetail.title)+" ")]),a("div",{staticClass:"issue-detail",on:{click:t.showmore}},[t._v(" 问题详情 ")]),a("div",[t._v(" "+t._s(t.difficulty)+" ")]),a("div",[a("a",{attrs:{href:t.postdetail.source_url,target:"_blank"}},[t._v(" 源地址 ")])])])]),a("Modal",{attrs:{width:660,"footer-hide":!0,title:"问题详情"},model:{value:t.v1,callback:function(e){t.v1=e},expression:"v1"}},[a("MarkdownPreview",{attrs:{initialValue:t.postdetail.md,theme:t.codestyle},on:{"on-copy":t.copysuccess}})],1),a("Tabs",{staticStyle:{"margin-top":"45px"}},t._l(t.postdetail.post,(function(e){return a("TabPane",{key:e.ID,attrs:{label:e.category}},[a("MarkdownPreview",{attrs:{initialValue:e.md,theme:t.codestyle},on:{"on-copy":t.copysuccess}})],1)})),1)],1),a("Loading"),a("RightGlobalPanel")],1)},n=[],o=a("5530"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"preview"},[a("div",{class:"markdown-preview markdown-theme-"+t.theme,domProps:{innerHTML:t._s(t.html)}}),a("div",{class:["preview-img",t.previewImgModal?"active":""]},[a("span",{staticClass:"close icon-close iconfont",on:{click:function(e){t.previewImgModal=!1}}}),a("img",{class:[t.previewImgMode],attrs:{src:t.previewImgSrc,alt:""}})])])},r=[],s=(a("ac1f"),a("5319"),a("f04a")),l={name:"markdown-preview",props:{initialValue:{type:String,default:""},markedOptions:{type:Object,default:function(){return{}}},theme:{type:String,default:"light"},copyCode:{type:Boolean,default:!0},copyBtnText:{type:String,default:"复制代码"}},data:function(){return{html:"",previewImgModal:!1,previewImgSrc:"",previewImgMode:""}},mounted:function(){this.translateMarkdown()},methods:{translateMarkdown:function(){var t=Object(s["a"])(this.initialValue,Object(o["a"])({sanitize:!1},this.markedOptions)).replace(/href="/gi,'target="_blank" href="');this.copyCode&&(t=t.replace(/<pre>/g,'<div class="code-block"><span class="copy-code">'+this.copyBtnText+"</span><pre>").replace(/<\/pre>/g,"</pre></div>")),this.html=t,this.addCopyListener(),this.addImageClickListener()},addCopyListener:function(){var t=this;setTimeout((function(){var e=document.querySelectorAll(".code-block .copy-code");t.btns=e;for(var a=function(a,i){e[a].onclick=function(){var i=e[a].parentNode.querySelectorAll("pre")[0].innerText,n=document.createElement("input");n.setAttribute("value",i),document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),t.$emit("on-copy",i)}},i=0,n=e.length;i<n;i++)a(i,n)}),600)},addImageClickListener:function(){var t=this,e=this.imgs,a=void 0===e?[]:e;if(a.length>0)for(var i=0,n=a.length;i<n;i++)a[i].onclick=null;setTimeout((function(){t.imgs=t.$refs.preview.querySelectorAll("img");for(var e=function(e,a){t.imgs[e].onclick=function(){var a=t.imgs[e].getAttribute("src");t.previewImage(a)}},a=0,i=t.imgs.length;a<i;a++)e(a,i)}),600)},previewImage:function(t){var e=this,a=new Image;a.src=t,a.onload=function(){var i=a.naturalWidth,n=a.naturalHeight;e.previewImgMode=n/i>1.4?"horizontal":"vertical",e.previewImgSrc=t,e.previewImgModal=!0}}},watch:{initialValue:function(){this.translateMarkdown()}}},d=l,u=(a("ab69"),a("2877")),p=Object(u["a"])(d,c,r,!1,null,"97dc992c",null),f=p.exports,m=f,v=a("b1e8"),h=a("1faa"),g=a("7d33"),w=a("365c"),y=a("5880"),b={name:"PostDetail",components:{MarkdownPreview:m,Content:v["a"],SuspensionPanel:h["a"],Loading:g["a"]},data:function(){return{pa:null,count:"hello world",modalState:{state:!0},title:"",v1:!1,initialValue:"",postlist:[],difficulty_num:"",source_url:"",postdetail:{}}},created:function(){this.initdata()},computed:Object(o["a"])(Object(o["a"])({},Object(y["mapState"])(["codestyle"])),{},{difficulty:function(){switch(this.postdetail.difficulty){case 1:return"简单";case 2:return"中等";case 3:return"困难"}}}),methods:{initdata:function(){var t=this;this.pa=this.$route.params.slug,Object(w["j"])(this.pa).then((function(e){var a=e.data,i=a.data,n=a.code;t.postdetail=i,1001==n?t.postdetail=i:t.$router.push({name:"Error404"})})).catch((function(t){}))},showmore:function(){this.v1=!0},copysuccess:function(){this.$Message.success("复制成功")}}},k=b,_=(a("9079"),Object(u["a"])(k,i,n,!1,null,"ba7dbd62",null));e["default"]=_.exports},"6cf0":function(t,e,a){},9079:function(t,e,a){"use strict";var i=a("6cf0"),n=a.n(i);n.a},ab69:function(t,e,a){"use strict";var i=a("fad3"),n=a.n(i);n.a},b1e8:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("article",[t._t("topic"),t._t("default"),t._t("explain")],2)},n=[],o={name:"Content"},c=o,r=(a("ce59"),a("2877")),s=Object(r["a"])(c,i,n,!1,null,"78982cbd",null);e["a"]=s.exports},ce59:function(t,e,a){"use strict";var i=a("1ba2"),n=a.n(i);n.a},fad3:function(t,e,a){}}]);